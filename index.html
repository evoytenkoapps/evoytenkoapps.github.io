<html lang="ru">
  <head>
    <meta
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"
      name="viewport"
    />
    <meta charset="UTF-8" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>Генератор платежей</title>
  </head>
  <body>
    <style>
      .tinkoffPayRow {
        display: block;
        margin: 1%;
        width: 160px;
      }
    </style>

    <link
      rel="stylesheet"
      href="https://rest-api-test.tinkoff.ru/html/payForm/static/css/t-widget.css"
      type="text/css"
    />

    <script src="https://rest-api-test.tinkoff.ru/html/payForm/js/tinkoff.js"></script>

    <form name="TinkoffPayForm" onsubmit="pay(this); return false;">
      <input
        class="tinkoffPayRow"
        type="hidden"
        name="terminalkey"
        value="EatFit3DS"
      />

      <input class="tinkoffPayRow" type="hidden" name="frame" value="true" />

      <input class="tinkoffPayRow" type="hidden" name="language" value="ru" />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="Сумма заказа"
        name="amount"
        value="111"
        required
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="Номер заказа"
        name="order"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="Описание заказа"
        name="description"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="ФИО плательщика"
        name="name"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="E-mail"
        name="email"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="Контактный телефон"
        name="phone"
      />
    </form>

    <div id="tinkoffWidgetContainer"></div>
    <div id="tinkoffWidgetContainer1"></div>
    <div id="tinkoffWidgetContainer2"></div>

    <script type="text/javascript">
      const terminalkey = document.forms.TinkoffPayForm.terminalkey;

      // Одна вставка
      // const widgetParameters = {
      //   container: "tinkoffWidgetContainer",
      //   terminalKey: terminalkey.value,
      //   paymentSystems: {
      //     TinkoffFps: {
      //       paymentInfo: function () {
      //         return {
      //           paymentData: document.forms.TinkoffPayForm,
      //         };
      //       },
      //     },
      //   },
      // };

      // Множественная втсавка кнопок
      const widgetParameters = {
        terminalKey: terminalkey.value,
        paymentItems: [
          {
            container: document.getElementById("tinkoffWidgetContainer1"),
            paymentInfo: function () {
              return {
                paymentData: document.forms.TinkoffPayForm,
              };
            },
          },
          {
            container: document.getElementById("tinkoffWidgetContainer2"),
            paymentInfo: function () {
              return {
                paymentData: document.forms.TinkoffPayForm,
              };
            },
          },
        ],
        paymentSystems: {
          TinkoffFps: {},
        },
      };

      window.addEventListener("load", function () {
        initPayments(widgetParameters);
      });
    </script>
  </body>
</html>
