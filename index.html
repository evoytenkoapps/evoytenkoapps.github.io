<html lang="ru">
  <head>
    <meta
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"
      name="viewport"
    />
    <!--    <script async src="https://rest-api-test.tinkoff.ru/html/payForm/js/tinkoff_v2.js"></script>-->
    <script
      async
      src="https://s3-msk.tinkoff.ru/eacq-tinkoffjs-test/html/payForm/js/tinkoff.js"
    ></script>
    <meta http-equiv="Permissions-Policy" content="interest-cohort=()" />
    <meta charset="UTF-8" />

    <title>Генератор платежей</title>
  </head>
  <body>
    <style>
      .tinkoffPayRow {
        display: block;
        margin: 1%;
        width: 160px;
      }
    </style>

    <link
      rel="stylesheet"
      href="./html/payForm/static/css/t-widget.css"
      type="text/css"
    />

    <script src="https://rest-api-test.tinkoff.ru/html/payForm/js/tinkoff.js"></script>

    <form name="TinkoffPayForm" onsubmit="pay(this); return false;">
      <input class="tinkoffPayRow" type="hidden" name="terminalkey"
      value="EatFit3DS >

      <input class="tinkoffPayRow" type="hidden" name="frame" value="true" />

      <input class="tinkoffPayRow" type="hidden" name="language" value="ru" />

      <input class="tinkoffPayRow" type="text" placeholder="Сумма заказа"
      name="amount required>

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="Номер заказа"
        name="order"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="Описание заказа"
        name="description"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="ФИО плательщика"
        name="name"
      />

      <input
        class="tinkoffPayRow"
        type="text"
        placeholder="E-mail"
        name="email"
      />

      <input class="tinkoffPayRow" type="text" placeholder="Контактный телефон
      name="phone">

      <input class="tinkoffPayRow" type="submit" value="Оплатить" />
    </form>

    <script type="text/javascript">
      const terminalkey = document.forms.TinkoffPayForm.terminalkey;

      // Множественная втсавка кнопок
      const widgetParametersMany = {
        terminalKey: terminalKey.value,
        paymentItems: [
          {
            container: document.getElementById("tinkoffWidgetContainer1"),
            paymentInfo: function () {
              return {
                infoEmail: "E-mail для отправки информации о платеже",
                paymentData: document.forms.TinkoffPayForm,
              };
            },
          },
          {
            container: document.getElementById("tinkoffWidgetContainer2"),
            paymentInfo: function () {
              return {
                infoEmail: "E-mail для отправки информации о платеже",
                paymentData: document.forms.TinkoffPayForm,
              };
            },
          },
        ],
        paymentSystems: {
          TinkoffFps: {
            paymentInfo: function () {
              return {
                infoEmail: infoEmail.value,
                paymentData: document.forms.TinkoffPayForm,
              };
            },
          },
        },
      };

      window.addEventListener("load", function () {
        console.log("loaded")
        initPayments(widgetParametersMany);
      });
    </script>
  </body>
</html>
